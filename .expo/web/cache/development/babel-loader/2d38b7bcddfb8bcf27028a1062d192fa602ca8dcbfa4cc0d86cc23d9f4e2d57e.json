{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { format } from 'date-fns';\nimport { useRoute } from '@react-navigation/native';\nimport MinhaImagem from \"../../../assets/class.png\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var Save = function Save() {\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    titulo = _useState2[0],\n    setTitulo = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    descricao = _useState4[0],\n    setDescricao = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    autor = _useState6[0],\n    setAutor = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    data = _useState8[0],\n    setData = _useState8[1];\n  var route = useRoute();\n  var _route$params = route.params,\n    classificacao = _route$params.classificacao,\n    p_imagem = _route$params.p_imagem;\n  console.log(classificacao);\n  console.log(p_imagem);\n  var formatarData = function formatarData(inputData) {\n    if (inputData.length <= 10) {\n      var formattedDate = inputData.replace(/\\D/g, '').substring(0, 8);\n      if (formattedDate.length >= 6) {\n        var formattedDateString = `${formattedDate.substring(0, 2)}/${formattedDate.substring(2, 4)}/${formattedDate.substring(4)}`;\n        setData(formattedDateString);\n      } else {\n        setData(formattedDate);\n      }\n    }\n  };\n  var salvarDados = function () {\n    var _ref = _asyncToGenerator(function* () {\n      if (!titulo || !descricao || !autor || !data || !classificacao) {\n        Alert.alert('Campos vazios', 'Por favor, preencha todos os campos antes de salvar.');\n        return;\n      }\n      var objetoASalvar = {\n        titulo: titulo,\n        descricao: descricao,\n        autor: autor,\n        data: data,\n        classe: classificacao,\n        imagem: p_imagem\n      };\n      try {\n        var response = yield AsyncStorage.getItem(\"chave_de_identificacao\");\n        var previousData = response ? JSON.parse(response) : [];\n        var _data = [].concat(_toConsumableArray(previousData), [objetoASalvar]);\n        var jsonString = JSON.stringify(_data);\n        var chave = 'chave_de_identificacao';\n        yield AsyncStorage.setItem(chave, jsonString);\n        console.log('Dados salvos com sucesso!');\n      } catch (error) {\n        console.error('Erro ao salvar os dados:', error);\n      }\n    });\n    return function salvarDados() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Image, {\n      source: {\n        uri: p_imagem\n      },\n      style: styles.image\n    }), _jsx(TextInput, {\n      placeholder: \"T\\xEDtulo\",\n      value: titulo,\n      onChangeText: function onChangeText(text) {\n        return setTitulo(text);\n      },\n      style: styles.input\n    }), _jsx(TextInput, {\n      placeholder: \"Descri\\xE7\\xE3o\",\n      value: descricao,\n      onChangeText: function onChangeText(text) {\n        return setDescricao(text);\n      },\n      style: styles.input\n    }), _jsx(TextInput, {\n      placeholder: \"Autor\",\n      value: autor,\n      onChangeText: function onChangeText(text) {\n        return setAutor(text);\n      },\n      style: styles.input\n    }), _jsx(TextInput, {\n      placeholder: \"Data (dd/mm/aaaa)\",\n      value: data,\n      onChangeText: function onChangeText(text) {\n        return formatarData(text);\n      },\n      style: styles.input\n    }), _jsx(Text, {\n      children: classificacao.class\n    }), _jsx(Text, {\n      children: classificacao.resultados.map(function (item, index) {\n        return _jsxs(Text, {\n          style: styles.textoClass,\n          children: [item.classe, \": \", (item.probabilidade * 100).toFixed(2), \"%\", '\\n']\n        }, index);\n      })\n    }), _jsx(TouchableOpacity, {\n      style: styles.button_save,\n      onPress: salvarDados,\n      children: _jsx(Text, {\n        children: \"SALVAR\"\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: 'gray',\n    borderRadius: 5,\n    padding: 10,\n    margin: 10,\n    width: '80%'\n  },\n  image: {\n    width: \"90%\",\n    height: 200,\n    borderRadius: 10,\n    margin: 10\n  },\n  button_save: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: \"green\",\n    width: \"50%\",\n    height: 50,\n    borderRadius: 10,\n    marginRight: 10,\n    marginTop: 3\n  },\n  textoClass: {\n    fontSize: 15\n  }\n});\nexport default Save;","map":{"version":3,"names":["React","useState","View","TextInput","Image","StyleSheet","Text","Alert","TouchableOpacity","AsyncStorage","format","useRoute","MinhaImagem","jsx","_jsx","jsxs","_jsxs","Save","_useState","_useState2","_slicedToArray","titulo","setTitulo","_useState3","_useState4","descricao","setDescricao","_useState5","_useState6","autor","setAutor","_useState7","_useState8","data","setData","route","_route$params","params","classificacao","p_imagem","console","log","formatarData","inputData","length","formattedDate","replace","substring","formattedDateString","salvarDados","_ref","_asyncToGenerator","alert","objetoASalvar","classe","imagem","response","getItem","previousData","JSON","parse","concat","_toConsumableArray","jsonString","stringify","chave","setItem","error","apply","arguments","style","styles","container","children","source","uri","image","placeholder","value","onChangeText","text","input","class","resultados","map","item","index","textoClass","probabilidade","toFixed","button_save","onPress","create","flex","justifyContent","alignItems","borderWidth","borderColor","borderRadius","padding","margin","width","height","backgroundColor","marginRight","marginTop","fontSize"],"sources":["C:/Users/caioe/Deepcoffe02-master/src/screens/Save/index.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { View, TextInput, Image, StyleSheet, Text, Alert, TouchableOpacity } from 'react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { format } from 'date-fns';\nimport { useRoute } from '@react-navigation/native';\n\nimport MinhaImagem from '../../../assets/class.png';\n\nexport const Save = () => {\n  const [titulo, setTitulo] = useState('');\n  const [descricao, setDescricao] = useState('');\n  const [autor, setAutor] = useState('');\n  const [data, setData] = useState('');\n\n  const route = useRoute();\n  const { classificacao , p_imagem } = route.params; \n  console.log(classificacao)\n  console.log(p_imagem)\n\n  const formatarData = (inputData) => {\n    if (inputData.length <= 10) {\n      const formattedDate = inputData.replace(/\\D/g, '').substring(0, 8);\n\n      if (formattedDate.length >= 6) {\n        const formattedDateString = `${formattedDate.substring(0, 2)}/${formattedDate.substring(2, 4)}/${formattedDate.substring(4)}`;\n        setData(formattedDateString);\n      } else {\n        setData(formattedDate);\n      }\n    }\n  };\n\n  const salvarDados = async () => {\n    // Verifica se algum campo obrigatório está vazio\n    if (!titulo || !descricao || !autor || !data || !classificacao) {\n      Alert.alert('Campos vazios', 'Por favor, preencha todos os campos antes de salvar.');\n      return;\n    }\n\n    const objetoASalvar = {\n      titulo,\n      descricao,\n      autor,\n      data,\n      classe: classificacao, // Usa a classificação recebida\n      imagem: p_imagem,\n    };\n\n    try {\n      const response = await AsyncStorage.getItem(\"chave_de_identificacao\");\n      const previousData = response ? JSON.parse(response):[];\n\n      const data = [...previousData, objetoASalvar]\n      const jsonString = JSON.stringify(data);\n\n      const chave = 'chave_de_identificacao';\n\n      await AsyncStorage.setItem(chave, jsonString);\n      console.log('Dados salvos com sucesso!');\n    } catch (error) {\n      console.error('Erro ao salvar os dados:', error);\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Image source={{ uri: p_imagem }} style={styles.image} />\n      <TextInput\n        placeholder=\"Título\"\n        value={titulo}\n        onChangeText={(text) => setTitulo(text)}\n        style={styles.input}\n      />\n      <TextInput\n        placeholder=\"Descrição\"\n        value={descricao}\n        onChangeText={(text) => setDescricao(text)}\n        style={styles.input}\n      />\n      <TextInput\n        placeholder=\"Autor\"\n        value={autor}\n        onChangeText={(text) => setAutor(text)}\n        style={styles.input}\n      />\n      <TextInput\n        placeholder=\"Data (dd/mm/aaaa)\"\n        value={data}\n        onChangeText={(text) => formatarData(text)}\n        style={styles.input}\n      />\n      <Text>{classificacao.class}</Text>\n      <Text>\n      {classificacao.resultados.map((item, index) => (\n        <Text key={index} style={styles.textoClass}>\n         {item.classe}: {(item.probabilidade * 100).toFixed(2)}%{'\\n'}\n        </Text>\n      ))}\n    </Text>\n      <TouchableOpacity style={styles.button_save} onPress={salvarDados}>\n        <Text>SALVAR</Text>\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: 'gray',\n    borderRadius: 5,\n    padding: 10,\n    margin: 10,\n    width: '80%',\n  },\n  image: {\n    width: \"90%\",\n    height: 200,\n    borderRadius: 10,\n    margin: 10,\n  },\n  button_save: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: \"green\",\n    width: \"50%\",\n    height: 50,\n    borderRadius: 10,\n    marginRight: 10,\n    marginTop: 3\n  },\n  textoClass: {\n    fontSize: 15,\n  },\n});\n\nexport default Save;\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,SAAA;AAAA,OAAAC,KAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,KAAA;AAAA,OAAAC,gBAAA;AAExC,OAAOC,YAAY,MAAM,2CAA2C;AACpE,SAASC,MAAM,QAAQ,UAAU;AACjC,SAASC,QAAQ,QAAQ,0BAA0B;AAEnD,OAAOC,WAAW;AAAkC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAEpD,OAAO,IAAMC,IAAI,GAAG,SAAPA,IAAIA,CAAA,EAAS;EACxB,IAAAC,SAAA,GAA4BjB,QAAQ,CAAC,EAAE,CAAC;IAAAkB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAjCG,MAAM,GAAAF,UAAA;IAAEG,SAAS,GAAAH,UAAA;EACxB,IAAAI,UAAA,GAAkCtB,QAAQ,CAAC,EAAE,CAAC;IAAAuB,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAvCE,SAAS,GAAAD,UAAA;IAAEE,YAAY,GAAAF,UAAA;EAC9B,IAAAG,UAAA,GAA0B1B,QAAQ,CAAC,EAAE,CAAC;IAAA2B,UAAA,GAAAR,cAAA,CAAAO,UAAA;IAA/BE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EACtB,IAAAG,UAAA,GAAwB9B,QAAQ,CAAC,EAAE,CAAC;IAAA+B,UAAA,GAAAZ,cAAA,CAAAW,UAAA;IAA7BE,IAAI,GAAAD,UAAA;IAAEE,OAAO,GAAAF,UAAA;EAEpB,IAAMG,KAAK,GAAGxB,QAAQ,EAAE;EACxB,IAAAyB,aAAA,GAAqCD,KAAK,CAACE,MAAM;IAAzCC,aAAa,GAAAF,aAAA,CAAbE,aAAa;IAAGC,QAAQ,GAAAH,aAAA,CAARG,QAAQ;EAChCC,OAAO,CAACC,GAAG,CAACH,aAAa,CAAC;EAC1BE,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;EAErB,IAAMG,YAAY,GAAG,SAAfA,YAAYA,CAAIC,SAAS,EAAK;IAClC,IAAIA,SAAS,CAACC,MAAM,IAAI,EAAE,EAAE;MAC1B,IAAMC,aAAa,GAAGF,SAAS,CAACG,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAACC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC;MAElE,IAAIF,aAAa,CAACD,MAAM,IAAI,CAAC,EAAE;QAC7B,IAAMI,mBAAmB,GAAI,GAAEH,aAAa,CAACE,SAAS,CAAC,CAAC,EAAE,CAAC,CAAE,IAAGF,aAAa,CAACE,SAAS,CAAC,CAAC,EAAE,CAAC,CAAE,IAAGF,aAAa,CAACE,SAAS,CAAC,CAAC,CAAE,EAAC;QAC7Hb,OAAO,CAACc,mBAAmB,CAAC;MAC9B,CAAC,MAAM;QACLd,OAAO,CAACW,aAAa,CAAC;MACxB;IACF;EACF,CAAC;EAED,IAAMI,WAAW;IAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,aAAY;MAE9B,IAAI,CAAC9B,MAAM,IAAI,CAACI,SAAS,IAAI,CAACI,KAAK,IAAI,CAACI,IAAI,IAAI,CAACK,aAAa,EAAE;QAC9D/B,KAAK,CAAC6C,KAAK,CAAC,eAAe,EAAE,sDAAsD,CAAC;QACpF;MACF;MAEA,IAAMC,aAAa,GAAG;QACpBhC,MAAM,EAANA,MAAM;QACNI,SAAS,EAATA,SAAS;QACTI,KAAK,EAALA,KAAK;QACLI,IAAI,EAAJA,IAAI;QACJqB,MAAM,EAAEhB,aAAa;QACrBiB,MAAM,EAAEhB;MACV,CAAC;MAED,IAAI;QACF,IAAMiB,QAAQ,SAAS/C,YAAY,CAACgD,OAAO,CAAC,wBAAwB,CAAC;QACrE,IAAMC,YAAY,GAAGF,QAAQ,GAAGG,IAAI,CAACC,KAAK,CAACJ,QAAQ,CAAC,GAAC,EAAE;QAEvD,IAAMvB,KAAI,MAAA4B,MAAA,CAAAC,kBAAA,CAAOJ,YAAY,IAAEL,aAAa,EAAC;QAC7C,IAAMU,UAAU,GAAGJ,IAAI,CAACK,SAAS,CAAC/B,KAAI,CAAC;QAEvC,IAAMgC,KAAK,GAAG,wBAAwB;QAEtC,MAAMxD,YAAY,CAACyD,OAAO,CAACD,KAAK,EAAEF,UAAU,CAAC;QAC7CvB,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;MAC1C,CAAC,CAAC,OAAO0B,KAAK,EAAE;QACd3B,OAAO,CAAC2B,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAClD;IACF,CAAC;IAAA,gBA9BKlB,WAAWA,CAAA;MAAA,OAAAC,IAAA,CAAAkB,KAAA,OAAAC,SAAA;IAAA;EAAA,GA8BhB;EAED,OACErD,KAAA,CAACd,IAAI;IAACoE,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,GAC5B3D,IAAA,CAACV,KAAK;MAACsE,MAAM,EAAE;QAAEC,GAAG,EAAEpC;MAAS,CAAE;MAAC+B,KAAK,EAAEC,MAAM,CAACK;IAAM,EAAG,EACzD9D,IAAA,CAACX,SAAS;MACR0E,WAAW,EAAC,WAAQ;MACpBC,KAAK,EAAEzD,MAAO;MACd0D,YAAY,EAAE,SAAAA,aAACC,IAAI;QAAA,OAAK1D,SAAS,CAAC0D,IAAI,CAAC;MAAA,CAAC;MACxCV,KAAK,EAAEC,MAAM,CAACU;IAAM,EACpB,EACFnE,IAAA,CAACX,SAAS;MACR0E,WAAW,EAAC,iBAAW;MACvBC,KAAK,EAAErD,SAAU;MACjBsD,YAAY,EAAE,SAAAA,aAACC,IAAI;QAAA,OAAKtD,YAAY,CAACsD,IAAI,CAAC;MAAA,CAAC;MAC3CV,KAAK,EAAEC,MAAM,CAACU;IAAM,EACpB,EACFnE,IAAA,CAACX,SAAS;MACR0E,WAAW,EAAC,OAAO;MACnBC,KAAK,EAAEjD,KAAM;MACbkD,YAAY,EAAE,SAAAA,aAACC,IAAI;QAAA,OAAKlD,QAAQ,CAACkD,IAAI,CAAC;MAAA,CAAC;MACvCV,KAAK,EAAEC,MAAM,CAACU;IAAM,EACpB,EACFnE,IAAA,CAACX,SAAS;MACR0E,WAAW,EAAC,mBAAmB;MAC/BC,KAAK,EAAE7C,IAAK;MACZ8C,YAAY,EAAE,SAAAA,aAACC,IAAI;QAAA,OAAKtC,YAAY,CAACsC,IAAI,CAAC;MAAA,CAAC;MAC3CV,KAAK,EAAEC,MAAM,CAACU;IAAM,EACpB,EACFnE,IAAA,CAACR,IAAI;MAAAmE,QAAA,EAAEnC,aAAa,CAAC4C;IAAK,EAAQ,EAClCpE,IAAA,CAACR,IAAI;MAAAmE,QAAA,EACJnC,aAAa,CAAC6C,UAAU,CAACC,GAAG,CAAC,UAACC,IAAI,EAAEC,KAAK;QAAA,OACxCtE,KAAA,CAACV,IAAI;UAAagE,KAAK,EAAEC,MAAM,CAACgB,UAAW;UAAAd,QAAA,GACzCY,IAAI,CAAC/B,MAAM,EAAC,IAAE,EAAC,CAAC+B,IAAI,CAACG,aAAa,GAAG,GAAG,EAAEC,OAAO,CAAC,CAAC,CAAC,EAAC,GAAC,EAAC,IAAI;QAAA,GADlDH,KAAK,CAET;MAAA,CACR;IAAC,EACG,EACLxE,IAAA,CAACN,gBAAgB;MAAC8D,KAAK,EAAEC,MAAM,CAACmB,WAAY;MAACC,OAAO,EAAE1C,WAAY;MAAAwB,QAAA,EAChE3D,IAAA,CAACR,IAAI;QAAAmE,QAAA,EAAC;MAAM;IAAO,EACF;EAAA,EACd;AAEX,CAAC;AAED,IAAMF,MAAM,GAAGlE,UAAU,CAACuF,MAAM,CAAC;EAC/BpB,SAAS,EAAE;IACTqB,IAAI,EAAE,CAAC;IACPC,cAAc,EAAE,QAAQ;IACxBC,UAAU,EAAE;EACd,CAAC;EACDd,KAAK,EAAE;IACLe,WAAW,EAAE,CAAC;IACdC,WAAW,EAAE,MAAM;IACnBC,YAAY,EAAE,CAAC;IACfC,OAAO,EAAE,EAAE;IACXC,MAAM,EAAE,EAAE;IACVC,KAAK,EAAE;EACT,CAAC;EACDzB,KAAK,EAAE;IACLyB,KAAK,EAAE,KAAK;IACZC,MAAM,EAAE,GAAG;IACXJ,YAAY,EAAE,EAAE;IAChBE,MAAM,EAAE;EACV,CAAC;EACDV,WAAW,EAAE;IACXK,UAAU,EAAE,QAAQ;IACpBD,cAAc,EAAE,QAAQ;IACxBS,eAAe,EAAE,OAAO;IACxBF,KAAK,EAAE,KAAK;IACZC,MAAM,EAAE,EAAE;IACVJ,YAAY,EAAE,EAAE;IAChBM,WAAW,EAAE,EAAE;IACfC,SAAS,EAAE;EACb,CAAC;EACDlB,UAAU,EAAE;IACVmB,QAAQ,EAAE;EACZ;AACF,CAAC,CAAC;AAEF,eAAezF,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}